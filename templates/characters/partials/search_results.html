{% if error %}
<!-- Error State -->
<div class="card max-w-2xl mx-auto">
  <div class="card-body text-center">
    <div class="text-red-500 mb-2">
      <svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
      </svg>
    </div>
    <p class="text-gray-600">{{ error }}</p>
  </div>
</div>

{% elif result %}
  {% if result.found %}
  <!-- Character Found -->
  <div class="card max-w-2xl mx-auto overflow-hidden">
    <div class="card-body">
      <!-- Header -->
      <div class="flex items-start justify-between mb-4">
        <div>
          <h2 class="text-2xl font-bold text-gray-900">{{ result.name }}</h2>
          <p class="text-gray-600">{{ result.movie }}</p>
        </div>
        <span class="badge
          {% if result.category == 'Princess' %}badge-primary
          {% elif result.category == 'Villain' %}bg-purple-100 text-purple-800
          {% elif result.category == 'Pixar' %}bg-blue-100 text-blue-800
          {% elif result.category == 'Sidekick' %}bg-yellow-100 text-yellow-800
          {% else %}badge-secondary{% endif %}
        ">
          {{ result.category }}
        </span>
      </div>

      <!-- Description -->
      <p class="text-gray-700 mb-6">{{ result.description }}</p>

      <!-- Color Palette -->
      <div class="mb-4">
        <h3 class="heading-section mb-3">Color Palette for Disneybounding</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          {% for color in result.colors %}
          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
            <div
              class="w-12 h-12 rounded-lg shadow-inner border border-gray-200 flex-shrink-0"
              style="background-color: {{ color.hex }};"
              title="{{ color.hex }}"
            ></div>
            <div class="min-w-0">
              <div class="font-medium text-gray-900">{{ color.name }}</div>
              <div class="text-sm text-gray-500 truncate">{{ color.usage }}</div>
              <div class="text-xs text-gray-400 font-mono">{{ color.hex }}</div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- Color Swatches Row (compact view) -->
      <div class="pt-4 border-t border-gray-100">
        <p class="text-sm text-gray-500 mb-2">Quick color reference:</p>
        <div class="flex gap-2 flex-wrap">
          {% for color in result.colors %}
          <div
            class="w-10 h-10 rounded-full border-2 border-white shadow-md cursor-pointer hover:scale-110 transition-transform"
            style="background-color: {{ color.hex }};"
            title="{{ color.name }} - {{ color.hex }}"
          ></div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>

  {% else %}
  <!-- Character Not Found -->
  <div class="card max-w-2xl mx-auto">
    <div class="card-body text-center">
      <div class="text-gray-400 mb-4">
        <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
      </div>
      <h3 class="text-lg font-semibold text-gray-900 mb-2">Character Not Found</h3>
      <p class="text-gray-600 mb-4">
        We couldn't find a Disney character matching "{{ query }}".
      </p>
      {% if result.notFoundMessage %}
      <p class="text-sm text-gray-500 bg-gray-50 rounded-lg p-3">
        {{ result.notFoundMessage }}
      </p>
      {% endif %}
    </div>
  </div>
  {% endif %}
{% endif %}
